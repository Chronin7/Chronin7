map=[["w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","w","w","w","w","w","l","i","h","h","h","h","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","w","w","h","h","h","l","h","h","speshal","h","h","h","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","w","h","h","h","h","ni","l","l","h","h","i","h","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","h","h","h","u","h","h","l","l","h","h","h","h","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","h","h","u","u","h","l","h","s","l","h","h","h","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","u","h","u","c","h","b","h","h","l","l","h","u","h","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","h","h","h","h","h","l","h","h","h","h","h","h","h","h","h","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","h","u","f","f","f","f","f","f","f","f","f","f","h","u","h","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","h","f","f","f","f","f","f","s","f","f","f","f","f","h","h","h","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","f","f","f","f","f","f","c","f","f","f","t","p","f","f","f","f","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","f","f","s","f","f","f","f","f","f","f","f","p","f","f","ni","f","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","f","i","f","f","f","f","f","f","f","i","p","p","p","f","f","f","f","f","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","f","f","f","f","f","f","f","f","f","f","p","p","p","f","f","f","f","f","f","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","r","f","f","f","f","f","f","f","f","f","p","p","p","f","f","f","f","f","f","f","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","t","p","r","f","r","f","f","p","p","p","p","p","p","p","f","f","f","f","f","f","f","f","f","f","p","t","w","w","i","w","w"],
["w","w","w","w","w","w","p","f","b","r","f","f","p","p","p","p","p","p","c","u","f","f","f","f","f","f","f","f","f","f","w","w","f","f","f","w"],
["w","w","w","w","w","f","p","f","f","t","r","f","p","p","p","p","p","p","f","f","f","f","f","f","f","f","f","f","f","b","w","f","p","f","f","w"],
["w","w","w","w","f","p","p","p","f","f","f","b","r","c","p","spawn","p","p","p","p","f","f","f","f","f","f","f","f","r","s","p","p","p","p","f","w"],
["w","w","w","w","f","p","p","p","p","p","p","p","p","r","t","t","p","p","p","p","r","f","f","f","f","f","f","f","r","p","t","p","p","p","f","w"],
["w","w","w","w","f","c","f","f","p","p","p","p","p","r","t","t","r","r","p","r","p","f","f","f","f","f","f","f","f","r","p","p","p","p","w","w"],
["w","w","w","w","f","f","f","f","p","p","p","p","p","p","r","r","p","c","r","p","t","f","f","s","f","f","f","c","f","f","f","f","f","w","w","w"],
["w","w","w","w","f","f","f","f","p","p","p","p","p","p","p","p","p","p","p","p","p","p","f","f","f","f","f","f","f","f","f","f","f","w","w","w"],
["w","w","w","w","f","f","f","f","f","f","f","f","f","f","p","p","p","p","p","p","f","f","f","f","f","f","f","f","f","f","f","f","f","w","w","w"],
["w","w","w","w","w","s","s","f","f","s","s","s","s","s","p","p","p","p","p","p","f","f","f","f","f","f","f","f","f","f","f","f","w","w","w","w"],
["w","w","w","w","w","w","s","s","s","s","s","w","w","s","s","s","f","f","f","f","f","f","f","f","f","f","f","w","aw","aw","aw","aw","w","w","w","w"],
["w","w","w","w","w","w","s","s","s","s","w","w","w","w","s","s","s","f","f","f","f","s","s","s","s","s","w","aw","aw","aw","aw","aw","aw","w","w","w"],
["w","w","w","w","w","s","s","s","s","w","w","w","w","w","s","s","s","s","s","s","s","s","s","s","s","w","w","aw","aw","i","aw","aw","aw","w","w","w"],
["w","w","w","w","w","s","s","s","s","w","w","w","s","s","s","s","s","s","s","s","s","i","s","s","s","w","w","aw","aw","aw","aw","aw","aw","w","w","w"],
["w","w","w","w","w","i","s","s","w","w","w","s","s","s","s","s","s","s","s","t","s","s","s","s","w","w","w","w","aw","aw","ni","aw","aw","w","w","w"],
["w","w","w","w","w","s","s","w","w","w","w","s","s","s","s","s","s","s","s","s","s","s","s","w","w","w","w","w","w","aw","aw","aw","w","w","w","w"],
["w","w","w","w","w","s","s","w","w","w","w","s","s","s","s","s","i","s","s","s","s","s","s","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","s","s","w","w","w","w","w","s","s","s","s","s","s","s","ni","s","s","s","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","s","s","s","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"],
["w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w","w"]]
class inventory:
	def __init__(self,starting_inventory):
		self.invin=starting_inventory 
	def __str__(self):
		return self.invin
	def __len__(self):
		return len(self.invin)
	def grant(self,item,effect,count,description="this shuldent be printed but if it is be proud of yourself, you found a glitch (unless you are the maker, then have an emotional brakedown)"):
		if item in self.invin:
			self.invin[item][0]+=count
		else:
			self.invin[item]=[1,effect,description]
		print(f"you got {item}")
	def use(self,item,person=None):
		if self.inven[item]==1:
			effect(self.invin[item][1],person)
		del self.invin[item]
def effect(efec,person):
	global hp
	global party
	if 'heal' in efec:
		person["hp"]+=efec[1]
	elif "heal+" in efec:
		person["hp"]+=efec[1]
	elif "heal++" in efec:
		person["hp"]=person["max_hp"]
	elif "heal+++" in efec:
		for i in len(party):
			party[i]["hp"]=party[i]["max_hp"]
	elif "eather" in efec:
		person["mana"]+=efec[1]
	elif "elexer" in efec:
		person["mana"]=round(person["max_mana"]/2)
		person["hp"]=round(person["max_hp"]/2)
	elif "elexer+" in efec:
		person["mana"]=person["max_mana"]
		person["hp"]=person["max_hp"]
	elif "bomb core" in efec:
		damage(efec[1],"fire","e1")
		damage(efec[1],"fire","e2")
		damage(efec[1],"fire","e3")
	elif "frost core" in efec:
		damage(efec[1],"ice",person)
	elif "lightning core" in efec:
		damage(efec[1],"lightning","e1")
		damage(efec[1],"lightning","e2")
		damage(efec[1],"lightning","e3")

class enemy:
	def __init__(self,name,dresestance,damage,hp,tier,descrip="this shuldent be printed but if it is be proud of yourself, you found a glitch (unless you are the maker, then have an emotional brakedown)"):
		self.name=name
		self.res=dresestance
		self.damage=damage
		self.hp=hp
		self.tier=tier
		self.descrip=descrip
	def __str__(self):
		return self.descrip
	def damage(self,damage,dtype):
		if dtype==self.res:
			damage=round(damage/2)
			print(f"{self.name} is resistant to {dtype} damage!")
		self.hp-=damage
		print(f"{self.name} takes {damage} damage!")
	@property
	def helth(self):
		return self.helth

	@helth.setter
	def helth(self, value):
		self.hp = value
		if self.hp <= 0:
			self.dead()

	def dead(self):
		print(f"dead {self.name}") 
		del self
	
def damage(damage,dtype,person):
	global person_list
	if person=="e1":
		person_list[0].damage(damage,dtype)
	elif person=="e2":
		person_list[1].damage(damage,dtype)
	elif person=="e3": 
		person_list[2].damage(damage,dtype)
	elif person=="p1":
		person_list[3]-=damage
	elif person=="p2":
		person_list[4]-=damage
	elif person=="p3":
		person_list[5]-=damage
def proses_pos(gtype,pos,speshal=None,item=None,iitem="filler",efect="",descrip="this shuldent be printed but if it is be proud of yourself, you found a glitch (unless you are the maker, then have an emotional brakedown)"):
	if gtype == "w":
		print("how did you get here")
		location_type = "illegal"
	elif gtype == "l": 
		location_type = "illegal"
	elif gtype == "i":
		location_type = "item_type"
		inventory.grant(inventory,iitem,efect,1,descrip)
	elif gtype=="h":
		location_type="hot_ground"
	elif gtype=="speshal":
		location_type="speshal"
	elif gtype=="ni":
		location_type="nesecary_item"
	elif gtype=="s":
		location_type="skylift"
	elif gtype=="c":
		location_type="cave"
	elif gtype=="b":
		location_type="bridge"
	elif gtype=="u":
		print("how did you get here")
		location_type="illegal"
	elif gtype=="f":
		location_type="forest"
	elif gtype=="t":
		location_type="town"
	elif gtype=="p":
		location_type="plain"
	elif gtype=="r":
		location_type="river"
	elif gtype=="spawn":
		location_type="spawn_point"
	elif gtype=="s":
		location_type="snow"
	elif gtype=="aw":
		location_type="acssessible_water"
	return {"location_type":location_type,
			"position":pos,
			"speshal":speshal,
			"item":item},{"iitem":iitem,
			"efect":efect,
			"descrip":descrip
			}

	
if __name__ == "__main__":
	inventory=inventory({})
	pos=[13,20]
	current_location,item=proses_pos(map[pos[0]][pos[1]],pos)
	print(current_location)
	print(item)
	print(inventory.invin)
	print(len(inventory))
	inventory.grant("potion",["heal",50],1,"a small red potion that heals 50 hp")